<!DOCTYPE html>
<html>
<title>News Aggregator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
<body>

<div class="pure-g">
	<div class="pure-u-1-3 pure-u-md-1-12 pure-u-sm-1-12"></div>
	<div class="pure-u-1-3">
		<h1>News Aggregator</h1>
		<h4>Based on Pulse by Zerodha</h4>
		<p>The latest business, finance, and market news from all major Indian news sources aggregated in one place.</p>
		<p>Total news: {{news_count}}</p>
		<p>Similar news: {{sim_count}}</p>			
		<a class="pure-button pure-button-primary" href="/news-api">News API</a>
		<a class="pure-button pure-button-primary" href="/similar-api">Similar API</a>
		<a class="pure-button pure-button-primary" onclick="refresh_api()">Refresh data</a>
	</div>
</div>


<script type="text/javascript">
    function refresh_api() {
        var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                alert(xhr.response);
            }
        }
        xhr.open('get', '/refresh', true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
        xhr.send();
    }
</script>

</body>
</html>